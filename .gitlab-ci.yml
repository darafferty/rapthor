image: ubuntu:16.04

before_script:
  - apt-get update && apt-get install -y g++ cmake libfftw3-dev liblapacke-dev

idg-release:
  script:
    - mkdir build
    - cd build
    - cmake .. -DBUILD_WITH_TESTS=On
    - make
    - make install
    - export LD_LIBRARY_PATH=$(pwd)/lib:$LD_LIBRARY_PATH
    - ctest --verbose
    
idg-debug:
  script:
    - mkdir build
    - cd build
    - cmake .. -DBUILD_WITH_TESTS=On -DCMAKE_BUILD_TYPE=Debug
    - make
    - make install
    - export LD_LIBRARY_PATH=$(pwd)/lib:$LD_LIBRARY_PATH
    - ctest --verbose
